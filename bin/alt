#!/usr/bin/env ruby

$:.unshift(File.expand_path("../../lib", __FILE__))

require "pp"
require "alt"
require "readline"

if file = ARGV.first
  pp Alt.ast(File.read(file))
else
  puts "alt #{Alt::VERSION}"
  loop do
    line = Readline::readline(">> ")
    break unless line
    Readline::HISTORY.push(line)
    value = Alt.ast(line)
    pp value
  end
end